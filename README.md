# Quick and Dirty Compiler
As students that appreciate the simplicty and complexity of C, we wanted to find ways to enhance the language using modern constructs and simplify certain unwieldy corners of the language.  The language we are designing is primarily C with hints of C++, Python, Swift, and absorbing GNU built ins into the language.

### ANTLR
This currently directory contains the ANTLR specific files

### Directory Structure
    .
    ├── antlr                       # ANTLR program specific files
    │   ├── libantlr-runtime.a      # Static library built from ANTLR runtime source files
    │   └── antlr-4.7-complete.jar  # Java ANTLR program
    ├── antlr4-runtime              # ANLTR runtime header and source files
    ├── generated                   # Autogenerated ANTLR files
    ├── grammars                    # All the grammar files
    │   └── Pcl2.g4                 # Our one grammar file
    ├── samples                     # Sample C-- programs to test ANTLR with
    ├── scripts                     # Bash and python scripts for build automation
    │   ├── recompile.sh            # Recompiles the ANTLR library into a static library
    │   └── build.sh                # Builds the lexer / parser for C++ target
    ├── src                         # Non-ANTLR source files
    ├─ SConsript                    # SCons build script
    └─ SConstruct                   # SCons root environment

### How To Build

Currently does not support other options like Make or CMake, hopefully that will be added soon
However, SCons will handle the entire build automation flow

1. Install SCons from their website https://scons.org/pages/download.html
2. Install JAVA JDK from their website http://www.oracle.com/technetwork/java/javase/downloads/jdk9-downloads-3848520.html
    - Add the JDK bin path to your environment path
3. Set up the paths in the build scripts : `$JAVA_JDK_PATH`
4. Run `scons.py` from the directory that contains `SConstruct`

Use `scons.py run=SAMPLE_PROGRAM` to build and run.
Use `bash assemble.sh SAMPLE_ASSEMBLY` to assemble a jasmin source file
Use `bash compile.sh SAMPLE_PROGRAM_NO_EXTENSIONS_UNDER_SAMPLES_DIR` to compile a source file

### How To Generate The Parse Tree

1. Run the `build.sh` script
2. Use the optional command line arguments for a different grammar file or a different sample program

### ANTLR Runtime

The runtime library has already been compiled into a static library for easy linking, no need to worry about the runtime source files
However, it will not run on all machines.  Use the `recompile.sh` to recompile a static library on your machine which will appear under
`antlr4-runtime/temp`.
